for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return-1===t&&(t=n),[t,t===n?0:4-t%4]}function byteLength(e){var n=getLens(e),t=n[0],o=n[1];return 3*(t+o)/4-o}function _byteLength(e,n,t){return 3*(n+t)/4-t}function toByteArray(e){for(var n,t=getLens(e),o=t[0],r=t[1],i=new Arr(_byteLength(e,o,r)),a=0,s=r>0?o-4:o,u=0;u<s;u+=4)n=revLookup[e.charCodeAt(u)]<<18|revLookup[e.charCodeAt(u+1)]<<12|revLookup[e.charCodeAt(u+2)]<<6|revLookup[e.charCodeAt(u+3)],i[a++]=n>>16&255,i[a++]=n>>8&255,i[a++]=255&n;return 2===r&&(n=revLookup[e.charCodeAt(u)]<<2|revLookup[e.charCodeAt(u+1)]>>4,i[a++]=255&n),1===r&&(n=revLookup[e.charCodeAt(u)]<<10|revLookup[e.charCodeAt(u+1)]<<4|revLookup[e.charCodeAt(u+2)]>>2,i[a++]=n>>8&255,i[a++]=255&n),i}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,n,t){for(var o,r=[],i=n;i<t;i+=3)o=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),r.push(tripletToBase64(o));return r.join("")}function fromByteArray(e){for(var n,t=e.length,o=t%3,r=[],i=0,a=t-o;i<a;i+=16383)r.push(encodeChunk(e,i,i+16383>a?a:i+16383));return 1===o?(n=e[t-1],r.push(lookup[n>>2]+lookup[n<<4&63]+"==")):2===o&&(n=(e[t-2]<<8)+e[t-1],r.push(lookup[n>>10]+lookup[n>>4&63]+lookup[n<<2&63]+"=")),r.join("")}function btoa(e){return fromByteArray(new TextEncoder("utf-8").encode(e))}function atob(e){var n=String(e).replace(/[=]+$/,"");if(n.length%4==1)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,o,r=0,i=0,a="";o=n.charAt(i++);~o&&(t=r%4?64*t+o:o,r++%4)?a+=String.fromCharCode(255&t>>(-2*r&6)):0)o=chars.indexOf(o);return a}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63,"undefined"==typeof TextEncoder&&(TextEncoder=function(){},TextEncoder.prototype.encode=function(e){for(var n=e.length,t=-1,o=new Uint8Array(3*n),r=0,i=0,a=0;a!==n;){if(r=e.charCodeAt(a),a+=1,r>=55296&&r<=56319){if(a===n){o[t+=1]=239,o[t+=1]=191,o[t+=1]=189;break}if(!((i=e.charCodeAt(a))>=56320&&i<=57343)){o[t+=1]=239,o[t+=1]=191,o[t+=1]=189;continue}if(a+=1,(r=1024*(r-55296)+i-56320+65536)>65535){o[t+=1]=240|r>>>18,o[t+=1]=128|r>>>12&63,o[t+=1]=128|r>>>6&63,o[t+=1]=128|63&r;continue}}r<=127?o[t+=1]=0|r:r<=2047?(o[t+=1]=192|r>>>6,o[t+=1]=128|63&r):(o[t+=1]=224|r>>>12,o[t+=1]=128|r>>>6&63,o[t+=1]=128|63&r)}return o=new Uint8Array(o.buffer.slice(0,t+1))},TextEncoder.prototype.toString=function(){return"[object TextEncoder]"},Object.defineProperty?Object.defineProperty(TextEncoder.prototype,"encoding",{get:function(){if(Object.getPrototypeOf(this)!==TextEncoder.prototype)throw TypeError("Illegal invocation");return"utf-8"}}):TextEncoder.prototype.encoding="utf-8","undefined"!=typeof Symbol&&(TextEncoder.prototype[Symbol.toStringTag]="TextEncoder")),function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.nakamajs={})}(this,function(e){(function(e){if(!e.fetch){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(e){return e&&DataView.prototype.isPrototypeOf(e)},r=ArrayBuffer.isView||function(e){return e&&t.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,n){e=s(e),n=u(n);var t=this.map[e];this.map[e]=t?t+","+n:n},d.prototype.delete=function(e){delete this.map[s(e)]},d.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},d.prototype.set=function(e,n){this.map[s(e)]=u(n)},d.prototype.forEach=function(e,n){for(var t in this.map)this.map.hasOwnProperty(t)&&e.call(n,this.map[t],t,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(n,t){e.push(t)}),c(e)},d.prototype.values=function(){var e=[];return this.forEach(function(n){e.push(n)}),c(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(n,t){e.push([t,n])}),c(e)},n.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];g.redirect=function(e,n){if(-1===a.indexOf(n))throw new RangeError("Invalid status code");return new g(null,{status:n,headers:{location:e}})},e.Headers=d,e.Request=w,e.Response=g,e.fetch=function(e,t){return new Promise(function(o,r){var i=new w(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:C(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;o(new g(n,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&n.blob&&(a.responseType="blob"),i.headers.forEach(function(e,n){a.setRequestHeader(n,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var n=e.shift();return{done:void 0===n,value:n}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(e,n){this.append(n,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(n){this.append(n,e[n])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise(function(n,t){e.onload=function(){n(e.result)},e.onerror=function(){t(e.error)}})}function h(e){var n=new FileReader,t=m(n);return n.readAsArrayBuffer(e),t}function f(e){var n=new FileReader,t=m(n);return n.readAsText(e),t}function l(e){for(var n=new Uint8Array(e),t=new Array(n.length),o=0;o<n.length;o++)t[o]=String.fromCharCode(n[o]);return t.join("")}function b(e){if(e.slice)return e.slice(0);var n=new Uint8Array(e.byteLength);return n.set(new Uint8Array(e)),n.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(n.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(n.arrayBuffer&&n.blob&&o(e))this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!n.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!r(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e){var n=e.toUpperCase();return i.indexOf(n)>-1?n:e}function w(e,n){var t=(n=n||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,t||null==e._bodyInit||(t=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"omit",!n.headers&&this.headers||(this.headers=new d(n.headers)),this.method=v(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t)}function k(e){var n=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),o=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");n.append(decodeURIComponent(o),decodeURIComponent(r))}}),n}function C(e){var n=new d;return e.split(/\r?\n/).forEach(function(e){var t=e.split(":"),o=t.shift().trim();if(o){var r=t.join(":").trim();n.append(o,r)}}),n}function g(e,n){n||(n={}),this.type="default",this.status="status"in n?n.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new d(n.headers),this.url=n.url||"",this._initBody(e)}})("undefined"!=typeof self?self:window);var n=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e};function t(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,r,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return a}function o(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(t(arguments[n]));return e}var r=function(e){return void 0===e&&(e={basePath:"http://127.0.0.1:80",bearerToken:"",password:"",username:"",timeoutMs:5e3}),{healthcheck:function(t){void 0===t&&(t={});var o={},r="?"+Object.keys(o).map(function(e){return o[e]instanceof Array?o[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=o[e]?encodeURIComponent(e)+"="+encodeURIComponent(o[e])+"&":void 0}).join(""),i=n({method:"GET"},t),a={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?a.Authorization="Bearer "+e.bearerToken:e.username&&(a.Authorization="Basic "+btoa(e.username+":"+e.password)),i.headers=n({},a,t.headers),Promise.race([fetch(e.basePath+"/healthcheck"+r,i).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},getAccount:function(t){void 0===t&&(t={});var o={},r="?"+Object.keys(o).map(function(e){return o[e]instanceof Array?o[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=o[e]?encodeURIComponent(e)+"="+encodeURIComponent(o[e])+"&":void 0}).join(""),i=n({method:"GET"},t),a={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?a.Authorization="Bearer "+e.bearerToken:e.username&&(a.Authorization="Basic "+btoa(e.username+":"+e.password)),i.headers=n({},a,t.headers),Promise.race([fetch(e.basePath+"/v2/account"+r,i).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},updateAccount:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"PUT"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},authenticateCustom:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/authenticate/custom"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},authenticateDevice:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/authenticate/device"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},authenticateEmail:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/authenticate/email"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},authenticateFacebook:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/authenticate/facebook"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},authenticateGameCenter:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/authenticate/gamecenter"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},authenticateGoogle:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/authenticate/google"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},authenticateSteam:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/authenticate/steam"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},linkCustom:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/link/custom"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},linkDevice:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/link/device"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},linkEmail:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/link/email"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},linkFacebook:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/link/facebook"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},linkGameCenter:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/link/gamecenter"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},linkGoogle:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/link/google"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},linkSteam:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/link/steam"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},unlinkCustom:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/unlink/custom"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},unlinkDevice:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/unlink/device"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},unlinkEmail:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/unlink/email"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},unlinkFacebook:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/unlink/facebook"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},unlinkGameCenter:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/unlink/gamecenter"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},unlinkGoogle:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/unlink/google"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},unlinkSteam:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/account/unlink/steam"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listChannelMessages:function(t,o,r,i,a){if(void 0===a&&(a={}),null===t||void 0===t)throw new Error("'channelId' is a required parameter but is null or undefined.");var s="/v2/channel/{channel_id}".replace("{channel_id}",encodeURIComponent(String(t))),u={limit:o,forward:r,cursor:i},c="?"+Object.keys(u).map(function(e){return u[e]instanceof Array?u[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=u[e]?encodeURIComponent(e)+"="+encodeURIComponent(u[e])+"&":void 0}).join(""),d=n({method:"GET"},a),p={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?p.Authorization="Bearer "+e.bearerToken:e.username&&(p.Authorization="Basic "+btoa(e.username+":"+e.password)),d.headers=n({},p,a.headers),Promise.race([fetch(e.basePath+s+c,d).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},deleteFriends:function(t,o,r){void 0===r&&(r={});var i={ids:t,usernames:o},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"DELETE"},r),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,r.headers),Promise.race([fetch(e.basePath+"/v2/friend"+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listFriends:function(t){void 0===t&&(t={});var o={},r="?"+Object.keys(o).map(function(e){return o[e]instanceof Array?o[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=o[e]?encodeURIComponent(e)+"="+encodeURIComponent(o[e])+"&":void 0}).join(""),i=n({method:"GET"},t),a={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?a.Authorization="Bearer "+e.bearerToken:e.username&&(a.Authorization="Basic "+btoa(e.username+":"+e.password)),i.headers=n({},a,t.headers),Promise.race([fetch(e.basePath+"/v2/friend"+r,i).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},addFriends:function(t){void 0===t&&(t={});var o={},r="?"+Object.keys(o).map(function(e){return o[e]instanceof Array?o[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=o[e]?encodeURIComponent(e)+"="+encodeURIComponent(o[e])+"&":void 0}).join(""),i=n({method:"POST"},t),a={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?a.Authorization="Bearer "+e.bearerToken:e.username&&(a.Authorization="Basic "+btoa(e.username+":"+e.password)),i.headers=n({},a,t.headers),Promise.race([fetch(e.basePath+"/v2/friend"+r,i).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},blockFriends:function(t){void 0===t&&(t={});var o={},r="?"+Object.keys(o).map(function(e){return o[e]instanceof Array?o[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=o[e]?encodeURIComponent(e)+"="+encodeURIComponent(o[e])+"&":void 0}).join(""),i=n({method:"POST"},t),a={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?a.Authorization="Bearer "+e.bearerToken:e.username&&(a.Authorization="Basic "+btoa(e.username+":"+e.password)),i.headers=n({},a,t.headers),Promise.race([fetch(e.basePath+"/v2/friend/block"+r,i).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},importFacebookFriends:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/friend/facebook"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listGroups:function(t,o,r,i){void 0===i&&(i={});var a={name:t,cursor:o,limit:r},s="?"+Object.keys(a).map(function(e){return a[e]instanceof Array?a[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=a[e]?encodeURIComponent(e)+"="+encodeURIComponent(a[e])+"&":void 0}).join(""),u=n({method:"GET"},i),c={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?c.Authorization="Bearer "+e.bearerToken:e.username&&(c.Authorization="Basic "+btoa(e.username+":"+e.password)),u.headers=n({},c,i.headers),Promise.race([fetch(e.basePath+"/v2/group"+s,u).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},createGroup:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/group"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},deleteGroup:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'groupId' is a required parameter but is null or undefined.");var r="/v2/group/{group_id}".replace("{group_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"DELETE"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},updateGroup:function(t,o,r){if(void 0===r&&(r={}),null===t||void 0===t)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null===o||void 0===o)throw new Error("'body' is a required parameter but is null or undefined.");var i="/v2/group/{group_id}".replace("{group_id}",encodeURIComponent(String(t))),a={},s="?"+Object.keys(a).map(function(e){return a[e]instanceof Array?a[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=a[e]?encodeURIComponent(e)+"="+encodeURIComponent(a[e])+"&":void 0}).join(""),u=n({method:"PUT"},r),c={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?c.Authorization="Bearer "+e.bearerToken:e.username&&(c.Authorization="Basic "+btoa(e.username+":"+e.password)),u.headers=n({},c,r.headers),u.body=JSON.stringify(o||{}),Promise.race([fetch(e.basePath+i+s,u).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},addGroupUsers:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'groupId' is a required parameter but is null or undefined.");var r="/v2/group/{group_id}/add".replace("{group_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"POST"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},joinGroup:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'groupId' is a required parameter but is null or undefined.");var r="/v2/group/{group_id}/join".replace("{group_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"POST"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},kickGroupUsers:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'groupId' is a required parameter but is null or undefined.");var r="/v2/group/{group_id}/kick".replace("{group_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"POST"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},leaveGroup:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'groupId' is a required parameter but is null or undefined.");var r="/v2/group/{group_id}/leave".replace("{group_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"POST"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},promoteGroupUsers:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'groupId' is a required parameter but is null or undefined.");var r="/v2/group/{group_id}/promote".replace("{group_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"POST"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listGroupUsers:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'groupId' is a required parameter but is null or undefined.");var r="/v2/group/{group_id}/user".replace("{group_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"GET"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},deleteLeaderboardRecord:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");var r="/v2/leaderboard/{leaderboard_id}".replace("{leaderboard_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"DELETE"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listLeaderboardRecords:function(t,o,r,i,a){if(void 0===a&&(a={}),null===t||void 0===t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");var s="/v2/leaderboard/{leaderboard_id}".replace("{leaderboard_id}",encodeURIComponent(String(t))),u={owner_ids:o,limit:r,cursor:i},c="?"+Object.keys(u).map(function(e){return u[e]instanceof Array?u[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=u[e]?encodeURIComponent(e)+"="+encodeURIComponent(u[e])+"&":void 0}).join(""),d=n({method:"GET"},a),p={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?p.Authorization="Bearer "+e.bearerToken:e.username&&(p.Authorization="Basic "+btoa(e.username+":"+e.password)),d.headers=n({},p,a.headers),Promise.race([fetch(e.basePath+s+c,d).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},writeLeaderboardRecord:function(t,o,r){if(void 0===r&&(r={}),null===t||void 0===t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null===o||void 0===o)throw new Error("'body' is a required parameter but is null or undefined.");var i="/v2/leaderboard/{leaderboard_id}".replace("{leaderboard_id}",encodeURIComponent(String(t))),a={},s="?"+Object.keys(a).map(function(e){return a[e]instanceof Array?a[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=a[e]?encodeURIComponent(e)+"="+encodeURIComponent(a[e])+"&":void 0}).join(""),u=n({method:"POST"},r),c={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?c.Authorization="Bearer "+e.bearerToken:e.username&&(c.Authorization="Basic "+btoa(e.username+":"+e.password)),u.headers=n({},c,r.headers),u.body=JSON.stringify(o||{}),Promise.race([fetch(e.basePath+i+s,u).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listMatches:function(t,o,r,i,a,s){void 0===s&&(s={});var u={limit:t,authoritative:o,label:r,min_size:i,max_size:a},c="?"+Object.keys(u).map(function(e){return u[e]instanceof Array?u[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=u[e]?encodeURIComponent(e)+"="+encodeURIComponent(u[e])+"&":void 0}).join(""),d=n({method:"GET"},s),p={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?p.Authorization="Bearer "+e.bearerToken:e.username&&(p.Authorization="Basic "+btoa(e.username+":"+e.password)),d.headers=n({},p,s.headers),Promise.race([fetch(e.basePath+"/v2/match"+c,d).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},deleteNotifications:function(t,o){void 0===o&&(o={});var r={ids:t},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"DELETE"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),Promise.race([fetch(e.basePath+"/v2/notification"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listNotifications:function(t,o,r){void 0===r&&(r={});var i={limit:t,cacheable_cursor:o},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"GET"},r),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,r.headers),Promise.race([fetch(e.basePath+"/v2/notification"+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},rpcFunc2:function(t,o,r,i){if(void 0===i&&(i={}),null===t||void 0===t)throw new Error("'id' is a required parameter but is null or undefined.");var a="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),s={payload:o,http_key:r},u="?"+Object.keys(s).map(function(e){return s[e]instanceof Array?s[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=s[e]?encodeURIComponent(e)+"="+encodeURIComponent(s[e])+"&":void 0}).join(""),c=n({method:"GET"},i),d={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?d.Authorization="Bearer "+e.bearerToken:e.username&&(d.Authorization="Basic "+btoa(e.username+":"+e.password)),c.headers=n({},d,i.headers),Promise.race([fetch(e.basePath+a+u,c).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},rpcFunc:function(t,o,r){if(void 0===r&&(r={}),null===t||void 0===t)throw new Error("'id' is a required parameter but is null or undefined.");if(null===o||void 0===o)throw new Error("'body' is a required parameter but is null or undefined.");var i="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),a={},s="?"+Object.keys(a).map(function(e){return a[e]instanceof Array?a[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=a[e]?encodeURIComponent(e)+"="+encodeURIComponent(a[e])+"&":void 0}).join(""),u=n({method:"POST"},r),c={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?c.Authorization="Bearer "+e.bearerToken:e.username&&(c.Authorization="Basic "+btoa(e.username+":"+e.password)),u.headers=n({},c,r.headers),u.body=JSON.stringify(o||{}),Promise.race([fetch(e.basePath+i+s,u).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},readStorageObjects:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"POST"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/storage"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},writeStorageObjects:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"PUT"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/storage"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},deleteStorageObjects:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'body' is a required parameter but is null or undefined.");var r={},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"PUT"},o),s={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?s.Authorization="Bearer "+e.bearerToken:e.username&&(s.Authorization="Basic "+btoa(e.username+":"+e.password)),a.headers=n({},s,o.headers),a.body=JSON.stringify(t||{}),Promise.race([fetch(e.basePath+"/v2/storage/delete"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listStorageObjects:function(t,o,r,i,a){if(void 0===a&&(a={}),null===t||void 0===t)throw new Error("'collection' is a required parameter but is null or undefined.");var s="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(t))),u={user_id:o,limit:r,cursor:i},c="?"+Object.keys(u).map(function(e){return u[e]instanceof Array?u[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=u[e]?encodeURIComponent(e)+"="+encodeURIComponent(u[e])+"&":void 0}).join(""),d=n({method:"GET"},a),p={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?p.Authorization="Bearer "+e.bearerToken:e.username&&(p.Authorization="Basic "+btoa(e.username+":"+e.password)),d.headers=n({},p,a.headers),Promise.race([fetch(e.basePath+s+c,d).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listStorageObjects2:function(t,o,r,i,a){if(void 0===a&&(a={}),null===t||void 0===t)throw new Error("'collection' is a required parameter but is null or undefined.");if(null===o||void 0===o)throw new Error("'userId' is a required parameter but is null or undefined.");var s="/v2/storage/{collection}/{user_id}".replace("{collection}",encodeURIComponent(String(t))).replace("{user_id}",encodeURIComponent(String(o))),u={limit:r,cursor:i},c="?"+Object.keys(u).map(function(e){return u[e]instanceof Array?u[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=u[e]?encodeURIComponent(e)+"="+encodeURIComponent(u[e])+"&":void 0}).join(""),d=n({method:"GET"},a),p={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?p.Authorization="Bearer "+e.bearerToken:e.username&&(p.Authorization="Basic "+btoa(e.username+":"+e.password)),d.headers=n({},p,a.headers),Promise.race([fetch(e.basePath+s+c,d).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},getUsers:function(t,o,r,i){void 0===i&&(i={});var a={ids:t,usernames:o,facebook_ids:r},s="?"+Object.keys(a).map(function(e){return a[e]instanceof Array?a[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=a[e]?encodeURIComponent(e)+"="+encodeURIComponent(a[e])+"&":void 0}).join(""),u=n({method:"GET"},i),c={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?c.Authorization="Bearer "+e.bearerToken:e.username&&(c.Authorization="Basic "+btoa(e.username+":"+e.password)),u.headers=n({},c,i.headers),Promise.race([fetch(e.basePath+"/v2/user"+s,u).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])},listUserGroups:function(t,o){if(void 0===o&&(o={}),null===t||void 0===t)throw new Error("'userId' is a required parameter but is null or undefined.");var r="/v2/user/{user_id}/group".replace("{user_id}",encodeURIComponent(String(t))),i={},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"GET"},o),u={Accept:"application/json","Content-Type":"application/json"};return e.bearerToken?u.Authorization="Bearer "+e.bearerToken:e.username&&(u.Authorization="Basic "+btoa(e.username+":"+e.password)),s.headers=n({},u,o.headers),Promise.race([fetch(e.basePath+r+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(n,t){return setTimeout(t,e.timeoutMs,"Request timed out.")})])}}},i=function(){function e(e,n,t,o,r){this.token=e,this.created_at=n,this.expires_at=t,this.username=o,this.user_id=r}return e.prototype.isexpired=function(e){return this.expires_at-e<0},e.restore=function(n){var t=Math.floor((new Date).getTime()/1e3),o=n.split(".");if(3!=o.length)throw"jwt is not valid.";var r=JSON.parse(atob(o[1]));return new e(n,t,Math.floor(parseInt(r.exp)),r.usn,r.uid)},e}(),a=function(){function e(e,n,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.host=e,this.port=n,this.useSSL=t,this.verbose=o,this.cIds={}}return e.prototype.generatecid=function(){return o(Array(30)).map(function(){return Math.random().toString(36)[3]}).join("")},e.prototype.connect=function(e,n){var t=this;if(void 0===n&&(n=!1),void 0!=this.socket)return Promise.resolve(e);var o=""+(this.useSSL?"wss://":"ws://")+this.host+":"+this.port+"/ws?lang=en&status="+encodeURIComponent(n.toString())+"&token="+encodeURIComponent(e.token),r=new WebSocket(o);return this.socket=r,r.onclose=function(e){t.ondisconnect(e),t.socket=void 0},r.onerror=function(e){t.onerror(e)},r.onmessage=function(e){var n=JSON.parse(e.data);if(t.verbose&&window&&window.console&&console.log("Response: %o",n),void 0==n.cid)n.notifications?n.notifications.notifications.forEach(function(e){var n={code:e.code,create_time:e.create_time,id:e.id,persistent:e.persistent,sender_id:e.sender_id,subject:e.subject,content:e.content?JSON.parse(e.content):void 0};t.onnotification(n)}):n.match_data?(n.match_data.data=null!=n.match_data.data?JSON.parse(atob(n.match_data.data)):null,n.match_data.op_code=parseInt(n.match_data.op_code),t.onmatchdata(n.match_data)):n.match_presence_event?t.onmatchpresence(n.match_presence_event):n.matchmaker_matched?t.onmatchmakermatched(n.matchmaker_matched):n.status_presence_event?t.onstatuspresence(n.status_presence_event):n.stream_presence_event?t.onstreampresence(n.stream_presence_event):n.stream_data?t.onstreamdata(n.stream_data):n.channel_message?(n.channel_message.content=JSON.parse(n.channel_message.content),t.onchannelmessage(n.channel_message)):n.channel_presence_event?t.onchannelpresence(n.channel_presence_event):t.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",n);else{var o=t.cIds[n.cid];if(!o)return void(t.verbose&&window&&window.console&&console.error("No promise executor for message: %o",n));delete t.cIds[n.cid],n.error?o.reject(n.error):o.resolve(n)}},new Promise(function(n,o){r.onopen=function(o){t.verbose&&window&&window.console&&console.log(o),n(e)},r.onerror=function(e){o(e),r.close(),t.socket=void 0}})},e.prototype.disconnect=function(e){void 0===e&&(e=!0),void 0!=this.socket&&this.socket.close(),e&&this.ondisconnect({})},e.prototype.ondisconnect=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onerror=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onchannelmessage=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onchannelpresence=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onnotification=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onmatchdata=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onmatchpresence=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onmatchmakermatched=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onstatuspresence=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onstreampresence=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.onstreamdata=function(e){this.verbose&&window&&window.console&&console.log(e)},e.prototype.send=function(e){var n=this,t=e;return new Promise(function(e,o){if(void 0==n.socket)o("Socket connection has not been established yet.");else if(t.match_data_send)t.match_data_send.data=btoa(JSON.stringify(t.match_data_send.data)),t.match_data_send.op_code=t.match_data_send.op_code.toString(),n.socket.send(JSON.stringify(t)),e();else{t.channel_message_send?t.channel_message_send.content=JSON.stringify(t.channel_message_send.content):t.channel_message_update&&(t.channel_message_update.content=JSON.stringify(t.channel_message_update.content));var r=n.generatecid();n.cIds[r]={resolve:e,reject:o},t.cid=r,n.socket.send(JSON.stringify(t))}n.verbose&&window&&window.console&&console.log("Sent message: %o",t)})},e}(),s="127.0.0.1",u="7350",c="defaultkey",d=7e3,p=function(){function e(e,n,t,o,i,a){void 0===e&&(e=c),void 0===n&&(n=s),void 0===t&&(t=u),void 0===o&&(o=!1),void 0===i&&(i=d),void 0===a&&(a=!1),this.serverkey=e,this.host=n,this.port=t,this.useSSL=o,this.timeout=i,this.verbose=a;var p=""+(o?"https://":"http://")+n+":"+t;this.configuration={basePath:p,username:e,password:"",timeoutMs:i},this.apiClient=r(this.configuration)}return e.prototype.addGroupUsers=function(e,t,o){var r=this;this.configuration.bearerToken=e&&e.token;var i="/v2/group/"+t+"/add",a={user_ids:o},s="?"+Object.keys(a).map(function(e){return a[e]instanceof Array?a[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=a[e]?encodeURIComponent(e)+"="+encodeURIComponent(a[e])+"&":void 0}).join(""),u=n({method:"POST"}),c={Accept:"application/json","Content-Type":"application/json"};return this.configuration.bearerToken?c.Authorization="Bearer "+this.configuration.bearerToken:this.configuration.username&&(c.Authorization="Basic "+btoa(this.configuration.username+":"+this.configuration.password)),u.headers=n({},c),Promise.race([fetch(this.configuration.basePath+i+s,u).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(e,n){return setTimeout(n,r.configuration.timeoutMs,"Request timed out.")})]).then(function(e){return Promise.resolve(void 0!=e)})},e.prototype.addFriends=function(e,t,o){var r=this;this.configuration.bearerToken=e&&e.token;var i={ids:t,usernames:o},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"POST"}),u={Accept:"application/json","Content-Type":"application/json"};return this.configuration.bearerToken?u.Authorization="Bearer "+this.configuration.bearerToken:this.configuration.username&&(u.Authorization="Basic "+btoa(this.configuration.username+":"+this.configuration.password)),s.headers=n({},u),Promise.race([fetch(this.configuration.basePath+"/v2/friend"+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(e,n){return setTimeout(n,r.configuration.timeoutMs,"Request timed out.")})]).then(function(e){return Promise.resolve(void 0!=e)})},e.prototype.authenticateCustom=function(e){return this.apiClient.authenticateCustom(e).then(function(e){return i.restore(e.token||"")})},e.prototype.authenticateDevice=function(e){return this.apiClient.authenticateDevice(e).then(function(e){return i.restore(e.token||"")})},e.prototype.authenticateEmail=function(e){return this.apiClient.authenticateEmail(e).then(function(e){return i.restore(e.token||"")})},e.prototype.authenticateFacebook=function(e){return this.apiClient.authenticateFacebook(e).then(function(e){return i.restore(e.token||"")})},e.prototype.authenticateGoogle=function(e){return this.apiClient.authenticateGoogle(e).then(function(e){return i.restore(e.token||"")})},e.prototype.blockFriends=function(e,t,o){var r=this;this.configuration.bearerToken=e&&e.token;var i={ids:t,usernames:o},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"POST"}),u={Accept:"application/json","Content-Type":"application/json"};return this.configuration.bearerToken?u.Authorization="Bearer "+this.configuration.bearerToken:this.configuration.username&&(u.Authorization="Basic "+btoa(this.configuration.username+":"+this.configuration.password)),s.headers=n({},u),Promise.race([fetch(this.configuration.basePath+"/v2/friend/block"+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(e,n){return setTimeout(n,r.configuration.timeoutMs,"Request timed out.")})]).then(function(e){return Promise.resolve(void 0!=e)})},e.prototype.createGroup=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.createGroup(n).then(function(e){return Promise.resolve({avatar_url:e.avatar_url,create_time:e.create_time,creator_id:e.creator_id,description:e.description,edge_count:e.edge_count,id:e.id,lang_tag:e.lang_tag,max_count:e.max_count,metadata:e.metadata?JSON.parse(e.metadata):null,name:e.name,open:e.open,update_time:e.update_time})})},e.prototype.createSocket=function(e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),new a(this.host,this.port,e,n)},e.prototype.deleteFriends=function(e,t,o){var r=this;this.configuration.bearerToken=e&&e.token;var i={ids:t,usernames:o},a="?"+Object.keys(i).map(function(e){return i[e]instanceof Array?i[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=i[e]?encodeURIComponent(e)+"="+encodeURIComponent(i[e])+"&":void 0}).join(""),s=n({method:"DELETE"}),u={Accept:"application/json","Content-Type":"application/json"};return this.configuration.bearerToken?u.Authorization="Bearer "+this.configuration.bearerToken:this.configuration.username&&(u.Authorization="Basic "+btoa(this.configuration.username+":"+this.configuration.password)),s.headers=n({},u),Promise.race([fetch(this.configuration.basePath+"/v2/friend"+a,s).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(e,n){return setTimeout(n,r.configuration.timeoutMs,"Request timed out.")})]).then(function(e){return Promise.resolve(void 0!=e)})},e.prototype.deleteGroup=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.deleteGroup(n).then(function(e){return void 0!==e})},e.prototype.deleteNotifications=function(e,t){var o=this;this.configuration.bearerToken=e&&e.token;var r={ids:t},i="?"+Object.keys(r).map(function(e){return r[e]instanceof Array?r[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=r[e]?encodeURIComponent(e)+"="+encodeURIComponent(r[e])+"&":void 0}).join(""),a=n({method:"DELETE"}),s={Accept:"application/json","Content-Type":"application/json"};return this.configuration.bearerToken?s.Authorization="Bearer "+this.configuration.bearerToken:this.configuration.username&&(s.Authorization="Basic "+btoa(this.configuration.username+":"+this.configuration.password)),a.headers=n({},s),Promise.race([fetch(this.configuration.basePath+"/v2/notification"+i,a).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(e,n){return setTimeout(n,o.configuration.timeoutMs,"Request timed out.")})]).then(function(e){return Promise.resolve(void 0!=e)})},e.prototype.deleteStorageObjects=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.deleteStorageObjects(n).then(function(e){return Promise.resolve(void 0!=e)})},e.prototype.getAccount=function(e){return this.configuration.bearerToken=e&&e.token,this.apiClient.getAccount()},e.prototype.importFacebookFriends=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.importFacebookFriends(n).then(function(e){return void 0!==e})},e.prototype.getUsers=function(e,n,t,o){return this.configuration.bearerToken=e&&e.token,this.apiClient.getUsers(n,t,o).then(function(e){var n={users:[]};return null==e.users?Promise.resolve(n):(e.users.forEach(function(e){n.users.push({avatar_url:e.avatar_url,create_time:e.create_time,display_name:e.display_name,edge_count:e.edge_count,facebook_id:e.facebook_id,gamecenter_id:e.gamecenter_id,google_id:e.google_id,id:e.id,lang_tag:e.lang_tag,location:e.location,online:e.online,steam_id:e.steam_id,timezone:e.timezone,update_time:e.update_time,username:e.username,metadata:e.metadata?JSON.parse(e.metadata):null})}),Promise.resolve(n))})},e.prototype.joinGroup=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.joinGroup(n,{}).then(function(e){return void 0!==e})},e.prototype.kickGroupUsers=function(e,t,o){var r=this;this.configuration.bearerToken=e&&e.token;var i="/v2/group/"+t+"/kick",a={user_ids:o},s="?"+Object.keys(a).map(function(e){return a[e]instanceof Array?a[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=a[e]?encodeURIComponent(e)+"="+encodeURIComponent(a[e])+"&":void 0}).join(""),u=n({method:"POST"}),c={Accept:"application/json","Content-Type":"application/json"};return this.configuration.bearerToken?c.Authorization="Bearer "+this.configuration.bearerToken:this.configuration.username&&(c.Authorization="Basic "+btoa(this.configuration.username+":"+this.configuration.password)),u.headers=n({},c),Promise.race([fetch(this.configuration.basePath+i+s,u).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(e,n){return setTimeout(n,r.configuration.timeoutMs,"Request timed out.")})]).then(function(e){return Promise.resolve(void 0!=e)})},e.prototype.leaveGroup=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.leaveGroup(n,{}).then(function(e){return void 0!==e})},e.prototype.listChannelMessages=function(e,n,t,o,r){return this.configuration.bearerToken=e&&e.token,this.apiClient.listChannelMessages(n,t,o,r).then(function(e){var n={messages:[],next_cursor:e.next_cursor,prev_cursor:e.prev_cursor};return null==e.messages?Promise.resolve(n):(e.messages.forEach(function(e){n.messages.push({channel_id:e.channel_id,code:e.code,create_time:e.create_time,message_id:e.message_id,persistent:e.persistent,sender_id:e.sender_id,update_time:e.update_time,username:e.username,content:e.content?JSON.parse(e.content):null})}),Promise.resolve(n))})},e.prototype.listGroupUsers=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.listGroupUsers(n).then(function(e){var n={group_users:[]};return null==e.group_users?Promise.resolve(n):(e.group_users.forEach(function(e){n.group_users.push({user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):null},state:e.state})}),Promise.resolve(n))})},e.prototype.listUserGroups=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.listUserGroups(n).then(function(e){var n={user_groups:[]};return null==e.user_groups?Promise.resolve(n):(e.user_groups.forEach(function(e){n.user_groups.push({group:{avatar_url:e.group.avatar_url,create_time:e.group.create_time,creator_id:e.group.creator_id,description:e.group.description,edge_count:e.group.edge_count,id:e.group.id,lang_tag:e.group.lang_tag,max_count:e.group.max_count,metadata:e.group.metadata?JSON.parse(e.group.metadata):null,name:e.group.name,open:e.group.open,update_time:e.group.update_time},state:e.state})}),Promise.resolve(n))})},e.prototype.listGroups=function(e,n,t,o){return this.configuration.bearerToken=e&&e.token,this.apiClient.listGroups(n,t,o).then(function(e){var n={groups:[]};return null==e.groups?Promise.resolve(n):(n.cursor=e.cursor,e.groups.forEach(function(e){n.groups.push({avatar_url:e.avatar_url,create_time:e.create_time,creator_id:e.creator_id,description:e.description,edge_count:e.edge_count,id:e.id,lang_tag:e.lang_tag,max_count:e.max_count,metadata:e.metadata?JSON.parse(e.metadata):null,name:e.name,open:e.open,update_time:e.update_time})}),Promise.resolve(n))})},e.prototype.linkCustom=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.linkCustom(n).then(function(e){return void 0!==e})},e.prototype.linkDevice=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.linkDevice(n).then(function(e){return void 0!==e})},e.prototype.linkEmail=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.linkEmail(n).then(function(e){return void 0!==e})},e.prototype.linkFacebook=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.linkFacebook(n).then(function(e){return void 0!==e})},e.prototype.linkGoogle=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.linkGoogle(n).then(function(e){return void 0!==e})},e.prototype.listFriends=function(e){return this.configuration.bearerToken=e&&e.token,this.apiClient.listFriends().then(function(e){var n={friends:[]};return null==e.friends?Promise.resolve(n):(e.friends.forEach(function(e){n.friends.push({user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):null},state:e.state})}),Promise.resolve(n))})},e.prototype.listLeaderboardRecords=function(e,n,t,o,r){return this.configuration.bearerToken=e&&e.token,this.apiClient.listLeaderboardRecords(n,t,o,r).then(function(e){var n={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach(function(e){n.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score,owner_id:e.owner_id,rank:Number(e.rank),score:Number(e.score),subscore:Number(e.subscore),update_time:e.update_time,username:e.username})}),null!=e.records&&e.records.forEach(function(e){n.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score,owner_id:e.owner_id,rank:Number(e.rank),score:Number(e.score),subscore:Number(e.subscore),update_time:e.update_time,username:e.username})}),Promise.resolve(n)})},e.prototype.listMatches=function(e,n,t,o,r,i){return this.configuration.bearerToken=e&&e.token,this.apiClient.listMatches(n,t,o,r,i)},e.prototype.listNotifications=function(e,n,t){return this.configuration.bearerToken=e&&e.token,this.apiClient.listNotifications(n,t).then(function(e){var n={cacheable_cursor:e.cacheable_cursor,notifications:[]};return null==e.notifications?Promise.resolve(n):(e.notifications.forEach(function(e){n.notifications.push({code:e.code,create_time:e.create_time,id:e.id,persistent:e.persistent,sender_id:e.sender_id,subject:e.subject,content:e.content?JSON.parse(e.content):void 0})}),Promise.resolve(n))})},e.prototype.listStorageObjects=function(e,n,t,o,r){return this.configuration.bearerToken=e&&e.token,this.apiClient.listStorageObjects(n,t,o,r).then(function(e){var n={objects:[],cursor:e.cursor};return null==e.objects?Promise.resolve(n):(e.objects.forEach(function(e){n.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read,permission_write:e.permission_write,value:e.value?JSON.parse(e.value):null,version:e.version,user_id:e.user_id,create_time:e.create_time,update_time:e.update_time})}),Promise.resolve(n))})},e.prototype.promoteGroupUsers=function(e,t,o){var r=this;this.configuration.bearerToken=e&&e.token;var i="/v2/group/"+t+"/promote",a={user_ids:o},s="?"+Object.keys(a).map(function(e){return a[e]instanceof Array?a[e].reduce(function(n,t){return n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&"},""):null!=a[e]?encodeURIComponent(e)+"="+encodeURIComponent(a[e])+"&":void 0}).join(""),u=n({method:"POST"}),c={Accept:"application/json","Content-Type":"application/json"};return this.configuration.bearerToken?c.Authorization="Bearer "+this.configuration.bearerToken:this.configuration.username&&(c.Authorization="Basic "+btoa(this.configuration.username+":"+this.configuration.password)),u.headers=n({},c),Promise.race([fetch(this.configuration.basePath+i+s,u).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise(function(e,n){return setTimeout(n,r.configuration.timeoutMs,"Request timed out.")})]).then(function(e){return Promise.resolve(void 0!=e)})},e.prototype.readStorageObjects=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.readStorageObjects(n).then(function(e){var n={objects:[]};return null==e.objects?Promise.resolve(n):(e.objects.forEach(function(e){n.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read,permission_write:e.permission_write,value:e.value?JSON.parse(e.value):null,version:e.version,user_id:e.user_id,create_time:e.create_time,update_time:e.update_time})}),Promise.resolve(n))})},e.prototype.rpc=function(e,n,t){return this.configuration.bearerToken=e&&e.token,this.apiClient.rpcFunc(n,JSON.stringify(t)).then(function(e){return Promise.resolve({id:e.id,payload:e.payload?JSON.parse(e.payload):null})})},e.prototype.rpcGet=function(e,n,t,o){var r=this;return t&&""!=t?(this.configuration.username=void 0,this.configuration.bearerToken=void 0):this.configuration.bearerToken=n&&n.token,this.apiClient.rpcFunc2(e,o&&JSON.stringify(o)||"",t).then(function(e){return r.configuration.username=r.serverkey,Promise.resolve({id:e.id,payload:e.payload?JSON.parse(e.payload):null})}).catch(function(e){throw r.configuration.username=r.serverkey,e})},e.prototype.unlinkCustom=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.unlinkCustom(n).then(function(e){return void 0!==e})},e.prototype.unlinkDevice=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.unlinkDevice(n).then(function(e){return void 0!==e})},e.prototype.unlinkEmail=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.unlinkEmail(n).then(function(e){return void 0!==e})},e.prototype.unlinkFacebook=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.unlinkFacebook(n).then(function(e){return void 0!==e})},e.prototype.unlinkGoogle=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.unlinkGoogle(n).then(function(e){return void 0!==e})},e.prototype.updateAccount=function(e,n){return this.configuration.bearerToken=e&&e.token,this.apiClient.updateAccount(n).then(function(e){return void 0!==e})},e.prototype.updateGroup=function(e,n,t){return this.configuration.bearerToken=e&&e.token,this.apiClient.updateGroup(n,t).then(function(e){return void 0!==e})},e.prototype.writeLeaderboardRecord=function(e,n,t){return this.configuration.bearerToken=e&&e.token,this.apiClient.writeLeaderboardRecord(n,{metadata:t.metadata?JSON.stringify(t.metadata):void 0,score:t.score,subscore:t.subscore}).then(function(e){return Promise.resolve({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score,owner_id:e.owner_id,score:Number(e.score),subscore:Number(e.subscore),update_time:e.update_time,username:e.username})})},e.prototype.writeStorageObjects=function(e,n){this.configuration.bearerToken=e&&e.token;var t={objects:[]};return n.forEach(function(e){t.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read,permission_write:e.permission_write,value:JSON.stringify(e.value),version:e.version})}),this.apiClient.writeStorageObjects(t)},e}();e.Client=p,e.Session=i,Object.defineProperty(e,"__esModule",{value:!0})});